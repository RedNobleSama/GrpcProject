### 事务并发造成的问题
事务： 数据库操作的最小单元，作为单个逻辑工作单元执行的一些操作。这些操作作为一个整体一起向系统提交，要么执行，要么不执行。

### 解决 加锁
#### 互斥锁

### 常见的分布式锁实现方案
1. 基于mysql的悲观锁、乐观锁
2. 基于redis的分布式锁
    1. redis
       1. setnx命令： 如果key不存在，则设置key，并设置过期时间，过期时间为秒数
       2. getset命令： 如果key存在，则获取key的值，并设置过期时间，过期时间为秒数
       3. get命令： 获取key的值
       4. del命令： 删除key
       5. expire命令： 设置key的过期时间，过期时间为秒数
       6. ttl命令： 获取key的过期时间，过期时间为秒数
       7. incr命令： 将key的值加1
       8. decr命令： 将key的值减1
       9. incrby命令： 将key的值加上指定的数值
       10. decrby命令： 将key的值减上指定的数值
       11. setex命令： 将key的值设置为value，并设置过期时间，过期时间为秒数
    2. redsync源码解读
       1. setnx作用
          将获取和设置值变成原子性操作
       2. 如果我的服务挂掉了-死锁
          1. 设置过期时间
    3. 分布式锁需要解决的问题-lua脚本去做
       1. 互斥性-setnx
       2. 死锁
       3. 安全性
          1. 锁只能被持有该锁的用户删除，不能被其他用户删除
    4. redlock(多节点redis实现的分布式锁算法)，解决redis分布式锁在集群环境下出现的问题
       
3. 基于zookeeper的分布式锁